{"version":3,"sources":["firebase.js","Sidebarchat.js","StateProvider.js","reducer.js","Sidebar.js","Login.js","Chat.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","provider","GoogleAuthProvider","Sidebarchat","id","name","addnewchat","useState","seed","setSeed","messages","setMessages","useEffect","collection","doc","orderBy","get","then","querySnapshot","docs","map","data","catch","error","console","log","Math","floor","random","onClick","roomName","prompt","add","className","to","Avatar","src","message","e","preventDefault","delete","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useValue","useContext","actionTypes","state","action","type","user","Sidebar","rooms","setRooms","dispatch","photoURL","window","confirm","signOut","IconButton","placeholder","room","Login","alt","signInWithPopup","result","alert","Chat","input","setInput","roomId","useParams","setRoomName","Date","length","timestamp","toDate","toUTCString","displayName","onChange","target","FieldValue","serverTimestamp","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9112786.chunk.js","sourcesContent":["//npm install -g firebase-tools\r\n//firebase login\r\n//firebase init\r\n//firebase deploy\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n//import { initializeApp } from 'firebase/app';\r\n//import { getAuth ,GoogleAuthProvider } from 'firebase/auth';\r\n//import { getFirestore } from 'firebase/firestore';\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\"\r\n\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAqhxaavexuk1KTXCGqs8YTJq9sZK3cLnc\",\r\n    authDomain: \"whatsapp-clone-66940.firebaseapp.com\",\r\n    projectId: \"whatsapp-clone-66940\",\r\n    storageBucket: \"whatsapp-clone-66940.appspot.com\",\r\n    messagingSenderId: \"1034576981421\",\r\n    appId: \"1:1034576981421:web:203418d9385ea1d1614524\",\r\n    measurementId: \"G-97WZ5SH7KT\"\r\n  };\r\n  \r\n  firebase.initializeApp(firebaseConfig);\r\n  export const db = firebase.firestore();\r\n  export const auth = firebase.auth();\r\n //export  const db=getFirestore();\r\n  // export const auth=getAuth();\r\n  export const provider=new firebase.auth.GoogleAuthProvider();\r\n export default firebase\r\n","import React,{useState,useEffect} from 'react'\r\nimport './sidebarchat.css'\r\nimport {Avatar} from '@material-ui/core'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {db} from './firebase'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction Sidebarchat({id, name, addnewchat}) {\r\n    const[seed,setSeed]=useState('');\r\n    const[messages,setMessages]=useState([]);\r\n   \r\n    useEffect(()=>{\r\n       if(id){ \r\n        db.collection('room').doc(id).collection('messages')\r\n        .orderBy('timestamp','desc').get()\r\n        .then((querySnapshot) => (\r\n         setMessages(querySnapshot.docs.map((doc)=>\r\n            doc.data()\r\n         ))\r\n        ))\r\n        .catch((error)=> {\r\n            console.log(\"Error getting sidebarmessages: \", error);\r\n        })   \r\n     }  \r\n    },[id])\r\n    useEffect(()=>{\r\n          setSeed(Math.floor(Math.random()*5000));\r\n    },[])\r\n    const createchat=()=>{\r\n           const roomName=prompt(\"Please enter name for chat\");\r\n           if(roomName){\r\n            db.collection(\"room\").add({\r\n                name: roomName,\r\n                \r\n            }).then(() => {\r\n                console.log(\"Document successfully written!\");\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error writing document: \", error);\r\n            });\r\n            \r\n\r\n           }\r\n    };\r\n    \r\n    const deleteroom= (e)=>{\r\n            e.preventDefault();\r\n            db.collection(\"room\").doc(id).delete().then(() => {\r\n                console.log(\"Document successfully deleted!\");\r\n            }).catch((error) => {\r\n                console.error(\"Error removing document: \", error);\r\n            });\r\n            \r\n        };\r\n  \r\n    return !addnewchat ? (\r\n        <Link to={`/room/${id}`} >\r\n        <div className=\"sidebarchat\"> \r\n           <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`}/>\r\n           \r\n           <div className=\"sidebarchat-info\">\r\n             \r\n             <h3>{name}</h3>\r\n             <p>{messages[0]?.message}</p>\r\n           </div> \r\n          <span><DeleteIcon onClick={deleteroom}/></span>\r\n        </div>\r\n        </Link>\r\n    ):(\r\n        <div onClick={createchat} className=\"sidebarchat\">\r\n            <h2>Add New Chat</h2> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebarchat\r\n","import React ,{createContext,useContext,useReducer} from 'react'\r\n\r\nexport const StateContext = createContext();\r\nexport const StateProvider=({reducer, initialState,children})=>(\r\n    \r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n    );\r\n\r\nexport const useValue=()=>useContext(StateContext);","\r\nexport const initialState={\r\n    user:null,\r\n};\r\nexport const actionTypes={\r\n    Set_User:'set-user',\r\n};\r\nconst reducer=(state,action)=>{\r\n    console.log(action);\r\n    switch(action.type){\r\n        case actionTypes.Set_User:\r\n            return{\r\n                ...state,\r\n                user:action.user,\r\n            };\r\n        default:\r\n            return state ;  \r\n\r\n    }\r\n};\r\nexport default reducer","import React ,{useState,useEffect} from 'react'\r\nimport './sidebar.css'\r\nimport Sidebarchat from \"./Sidebarchat\"\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\r\nimport {Avatar,IconButton} from '@material-ui/core'\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport {useValue} from './StateProvider'\r\nimport {actionTypes} from './reducer'\r\nimport {db} from './firebase'\r\nimport {auth} from './firebase'\r\nfunction Sidebar() {\r\n    const [rooms,setRooms]=useState([]);\r\n    const [{user},dispatch]=useValue();\r\n    useEffect(()=>{\r\n       \r\n        db.collection(\"room\")  \r\n            .get()\r\n            .then((querySnapshot) => {\r\n                setRooms(querySnapshot.docs.map((doc) => (\r\n                   {\r\n                         id : doc.id,\r\n                         data : doc.data(),\r\n                    }  \r\n                )));\r\n            })\r\n            .catch((error)=> {\r\n            console.log(\"Error getting documents: \", error);\r\n            });\r\n  \r\n    },[rooms])\r\n    const signout=()=>{\r\n        if(user && window.confirm('would you really signout? ')){\r\n            auth.signOut().then(() => {\r\n                console.log('user signout');\r\n                dispatch({\r\n                    type:actionTypes.Set_User,\r\n                    user:null,\r\n                })\r\n              }).catch((error) => {\r\n                console.log('error  to signout',error);\r\n              });\r\n              \r\n        }\r\n    };\r\n   \r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar-header\">\r\n                \r\n               <Avatar src={user?.photoURL} onClick={signout}/>\r\n               <div className='sidebar-headerright' >\r\n                   <IconButton>\r\n                        <DonutLargeIcon />\r\n                   </IconButton>\r\n                   <IconButton>\r\n                        <ChatIcon />\r\n                   </IconButton>\r\n                   <IconButton>\r\n                        <MoreVertIcon/>\r\n                   </IconButton>\r\n               </div>  \r\n            </div>\r\n            <div className=\"sidebar-search\">\r\n                <div className=\"sidebar-searchcontainer\">\r\n                 <SearchOutlinedIcon/>\r\n                 <input placeholder=\"Search or start new chat\" type=\"text\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar-chat\">\r\n                <Sidebarchat addnewchat/>\r\n                {rooms && rooms.map((room)=>(\r\n                   <Sidebarchat\r\n                      key={room.id} id={room.id}\r\n                      name={room.data.name}\r\n                    /> \r\n                  \r\n                ))\r\n                }\r\n                \r\n                \r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react'\r\nimport './login.css'\r\nimport {auth , provider} from './firebase'\r\nimport {useValue}from './StateProvider'\r\nimport {actionTypes} from './reducer'\r\nfunction Login() {\r\n    const [{user},dispatch]=useValue();\r\n\r\n    const signIn=()=>{\r\n        auth.signInWithPopup(provider)\r\n        .then((result) => {\r\n           dispatch({\r\n            type:actionTypes.Set_User,\r\n            user:result.user,\r\n          });\r\n        })\r\n        .catch((error)=>alert (error.message)); \r\n    }\r\n  \r\n    return (\r\n        <div className='login'>\r\n          <div className='login-container'>\r\n              <img\r\n                 src='https://img.generation-nt.com/0001654473.jpg'\r\n                 alt=''\r\n              />\r\n              <div className=\"login-text\">\r\n                  <h1>Signin to WhatsApp</h1>\r\n              </div>\r\n              <button type='submit'onClick={signIn}>\r\n                  Sign In With Google\r\n              </button>\r\n\r\n          </div>  \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React ,{useState, useEffect} from 'react'\r\nimport \"./chat.css\"\r\nimport {Avatar,IconButton} from '@material-ui/core';\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\r\nimport AttachFileOutlinedIcon from '@material-ui/icons/AttachFileOutlined';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport {useParams} from 'react-router-dom'\r\nimport {db} from './firebase.js'\r\nimport {useValue} from './StateProvider'\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/firestore\"\r\n\r\nfunction Chat() {\r\n    const[{user},dispatch]=useValue();\r\n    const[input,setInput]=useState('');\r\n    const[seed, setSeed]=useState('');\r\n    const{roomId}=useParams();\r\n    const [roomName,setRoomName]=useState('');\r\n    const[messages,setMessages]=useState([]);\r\n\r\n    useEffect(()=>{\r\n\r\n        if(roomId){\r\n            db.collection(\"room\").doc(roomId)\r\n                            .get()\r\n                            .then((querySnapshot) => {\r\n                               setRoomName(querySnapshot.data().name);   \r\n                            })\r\n                            .catch((error)=> {\r\n                                  console.log(\"Error getting documents: \", error);\r\n                            });\r\n            db.collection('room').doc(roomId)\r\n            .collection('messages').orderBy('timestamp','asc')\r\n            .get()\r\n            .then((querySnapshot) => {\r\n                setMessages(querySnapshot.docs.map(doc =>\r\n                    doc.data()  \r\n                ))\r\n            })\r\n            .catch((error)=> {\r\n                   console.log(\"Error getting messages: \", error);\r\n            })               \r\n       \r\n\r\n        }\r\n    },[roomId])\r\n    console.log('messages',messages)\r\n    useEffect(()=>{\r\n      setSeed(Math.floor(Math.random() *5000));\r\n    },[])\r\n    const sendMessage=(e)=>{\r\n        e.preventDefault();\r\n        console.log('input',input);\r\n        db.collection('room').doc(roomId).collection('messages').add({\r\n            message:input,\r\n            name:user.displayName,\r\n            timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n\r\n            \r\n        }).then(() => {\r\n            console.log(\"Document successfully written!\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error writing input: \", error);\r\n        });\r\n        \r\n        setInput(\"\");\r\n    };\r\n    return (\r\n        <div className=\"chat\">\r\n            <div className=\"chat-header\">\r\n                <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`}/>\r\n                <div className=\"chat-headerinfo\">\r\n                    <h4>{roomName}</h4>\r\n                    <p>{user ?'online': 'last seen' && new Date(messages[messages.length -1]?.timestamp?.toDate()).toUTCString()} </p>\r\n                </div>\r\n                <div className='chat-headerright' >\r\n                   <IconButton>\r\n                        <SearchOutlinedIcon  />\r\n                   </IconButton>\r\n                   <IconButton>\r\n                        <AttachFileOutlinedIcon />\r\n                   </IconButton>\r\n                   <IconButton>\r\n                        <MoreVertIcon/>\r\n                   </IconButton>\r\n               </div>  \r\n\r\n               \r\n            </div>  \r\n            <div className=\"chat-body\">\r\n                {messages.map((message)=>(\r\n                   <p className={`chat-receiver ${message.name===user.displayName && 'chat-message'}`}> {/*(true=>message.name===user.displayName*/}\r\n                 \r\n                   <span className=\"chat-name\">{message.name}</span>\r\n                   {message.message}\r\n                   <span className=\"chat-timestamp\">{new Date(message.timestamp?.toDate()).toUTCString()}</span>\r\n                   </p>\r\n                ))}   \r\n            </div>\r\n            <div className=\"chat-footer\">\r\n                 <EmojiEmotionsOutlinedIcon/>\r\n                 <form>\r\n                     <input type=\"text\" value={input} onChange={e=>setInput(e.target.value)}  placeholder=\"type a message\"/>\r\n                     <button onClick={sendMessage} type=\"submit\">Send a Message</button>\r\n                 </form>\r\n                 <MicIcon/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React  from 'react'\nimport './App.css';\nimport Sidebar from './Sidebar'\nimport Login from './Login'\nimport Chat from \"./Chat\"\nimport {BrowserRouter as Router,Switch,Route} from 'react-router-dom'\nimport {useValue} from './StateProvider'\n\nfunction App() {\n  const [{user},dispatch]= useValue();\n  return (\n    \n    <div className=\"app\">\n    \n      {!user ?(\n       \n          <Login />\n        \n      ):(\n        <div className=\"app-body\">\n          <Router>\n           <Switch> \n            <Route path='/room/:roomId'>\n               <Sidebar/>\n               <Chat/>\n               \n            </Route>\n            <Route path='/'>\n               <Sidebar/>\n               <Chat/>\n            </Route>\n           </Switch>  \n          </Router>   \n        </div> \n       )}\n      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {StateProvider} from './StateProvider.js'\nimport reducer,{initialState} from './reducer'\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}